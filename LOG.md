# ログ

## 2024/3/11

Card 部分（Dog モデルの展開部分）を描画するコードを分離したほうがいいかな。

Widget を返す形が良きかも。ということは Widget を作るということかな。

モデル（dog.dart）に押し込んだほうがいいかな？

モデル操作を極力 main.dart から排除したほうがいいかも

main は controller であるべきかな

低レイヤ処理を外に任せて反応するだけにするのか？

## 2024/4/4

レコード操作のメソッドの引数を、id や name などのバラバラな数値ではなく、モデルを引き渡すようにした

id は自動採番の為、追加時の id は不要なのだが、インスタンス生成時の引数に必要なので 0 としてみた

実際のレコード追加処理では id は使用されない

## 2024/6/2

addDog ではなく insert のほうが抽象的かな。いやでも明確なほうがいいのかな？

## 2024/6/7

関数型のパラダイムを入れていきたいかな

現在は、dogs という変数を持っている。状態である。

変数 1 つ 1 つが、副作用の中心です

シグネチャを介さず変数にアタッチする行為は副作用です。透過性が壊れるのかな？

## 2024/6/19

クエリ文字列をモデルクラスに作成した。

id が必要になった場合工夫が必要かもしれない。update、指定削除とかね。

ユーザ入力に注意しなければならない。SQL インジェクションとかね。

id 引数にすれば動作はするね。

```
Future<int> delete(int id) async {
  return await db.delete(tableTodo, where: '$columnId = ?', whereArgs: [id]);
}
```

## 2024/6/19

dog モデルクラスにクエリも定義したが、それは、アンチパターンのようだ

モデルクラスはデータ構造といくつかのシリアライズ、デシリアライズのメソッドに専念
すべきのようだ。

一方ヘルパークラスではデータベースの作成や操作を定義するのがセオリーのようだ。

## 2024/6/20

関数型プログラミングかぶれがすぎたようだ。

futureBuilder に渡す future を前もって取得するために状態変数の宣言が必要のようだ

よって、「\_dogs」を定義して、futureBuilder に渡すことにした。
